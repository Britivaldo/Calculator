<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <title>Calculator</title>
    <style>
        body, html {
            font-family: 'Roboto';
            font-size: 30px;
            color: white;
        }
        #display {
            background: rgb(76, 75, 75);
            grid-column-start: 1;
            grid-column-end: 5;
        }
        #btn-C {
           
        }
        #btn-0 {
            grid-column-start: 1;
            grid-column-end: 3;
        }

        #container {
            margin: auto;
            text-align: center;
            width: 320px;
            height: 560px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            grid-template-rows: 2fr 1fr 1fr 1fr 1fr 1fr;
            
        }

        .keycolor {
            background: #17181b;
            border: none;
        }
        .keybtn {
            background: #232429;
            border: none;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="display"></div>
        <button id="btn-C" class="keybtn" onclick="calc(event)" value="C">C</button>
        <button id="btn-CE" class="keybtn" onclick="calc(event)" value="CE">CE</button>
        <button id="btn-Md" class="keybtn">%</button>
        <button id="btn-D" class="keybtn">/</button>
        <button id="btn-7" class="keycolor" onclick="calc(event)" value="7">7</button>
        <button id="btn-8" class="keycolor" onclick="calc(event)" value="8">8</button>
        <button id="btn-9" class="keycolor" onclick="calc(event)" value="9">9</button>
        <button id="btn-Mu" class="keybtn">*</button>
        <button id="btn-4" class="keycolor" onclick="calc(event)" value="4">4</button>
        <button id="btn-5" class="keycolor" onclick="calc(event)" value="5">5</button>
        <button id="btn-6" class="keycolor" onclick="calc(event)" value="6">6</button>
        <button id="btn-Su" class="keybtn">-</button>
        <button id="btn-1" class="keycolor" onclick="calc(event)" value="1">1</button>
        <button id="btn-2" class="keycolor" onclick="calc(event)" value="2">2</button>
        <button id="btn-3" class="keycolor" onclick="calc(event)" value="3">3</button>
        <button id="btn-Sum" class="keybtn" onclick="calc(event)" value="+">+</button>
        <button id="btn-0" class="keycolor" onclick="calc(event)" value="0">0</button>
        <button id="btn-P" class="keycolor">.</button>
        <button id="btn-R" class="keybtn" onclick="igual()">=</button>
    </div>

    <script>
        let number = 0;
        let i = 0;
        let op1 = 0;
        let fun = '';
        let op2 = 0;
        let result = [];
        let cont = 0;
        let display = document.querySelector("#display");

        function calc(e){
            number = e.target.value;

            switch (number) {
                case '7':
                    result[cont++] = '7';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '8':
                    result[cont++] = '8';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '9':
                    result[cont++] = '9';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '6':
                    result[cont++] = '6';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '5':
                    result[cont++] = '5';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '4':
                    result[cont++] = '4';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '3':
                    result[cont++] = '3';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '2':
                    result[cont++] = '2';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '1':
                    result[cont++] = '1';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '0':
                    result[cont++] = '0';
                    if(i == 0){
                        op1 = ex();
                    }else if(i == 1){
                        op2 = ex();
                    }
                    break;
                case '+':
                    if( i == 0 ){
                        result = [];
                        cont = 0;
                        fun = '+';
                        i = 1;
                    }else if ( i == 1 ){
                        //i = 0;
                        result = [];
                        cont = 0;
                        op1 = igual(fun);
                    }
                    break;
                case '-':
                    break;
                case '/':
                    break;
                case '*':
                    break;
                case 'C':
                        result = [];
                        cont = 0;
                    if ( i == 0 ){
                        op1 = 0;
                    }else if( i == 1){
                        op2 = 0;
                    }
                    break;
                case 'CE':
                        result = [];
                        cont = 0;
                        i = 0;
                        op1 = 0;
                        op2 = 0;
                    break;
            }

            console.log(' op1: ' + op1 +' op2: '+ op2+ ' r: '+ result + ' cont: '+ cont);

            //display.innerHTML = op1;

        }

        function ex(){
            let valor = result.reduce((acumulador, value)=>{
                return acumulador + value;
            });

            return parseInt(valor, 10);
        }

        function igual(fun){
            if(fun == '+'){
                return op1 + op2;
            }
        }


    </script>
</body>
</html>